<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Pendataan Anggota & Usaha Sinergi Ekonomi Krapyak</title>
    <link rel="icon" href="assets/logo_sinergi_krapyak.jpg" type="image/jpeg">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .mobile-search-trigger {
            display: none !important;
        }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="header-wrapper">
            <a href="index.html" class="logo-link">
                <img src="assets/logo_sinergi_krapyak.jpg" alt="Logo Sinergi Krapyak" class="logo">
            </a>
            <div class="header-right">
                <nav class="main-nav" id="main-nav">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="form.html" class="nav-link active">Isi Form</a>
                    <a href="statistik.html" class="nav-link">Statistik</a>
                    <a href="tentang.html" class="nav-link">Tentang</a>
                </nav>
                <div class="header-actions">
                    <button class="mobile-search-trigger" id="mobile-search-trigger" style="display: none !important;"></button>
                    <div class="mobile-menu-trigger" id="burger-menu-trigger">
                        <img src="assets/menu_kebab.svg" alt="Menu">
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <form id="data-form" class="form-container">
            <div class="form-header">
                <h1>Formulir Pendataan Anggota & Usaha</h1>
                <p>Silakan isi data diri dan usaha Anda selengkap mungkin.</p>
            </div>

            <!-- Bagian Data Anggota -->
            <fieldset class="form-section">
                <legend class="form-section-title">1. Informasi Pribadi Anggota</legend>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="nama_lengkap">Nama Lengkap</label>
                        <input type="text" id="nama_lengkap" name="nama_lengkap" required>
                    </div>
                    <div class="form-group">
                        <label for="nama_panggilan">Nama Panggilan</label>
                        <input type="text" id="nama_panggilan" name="nama_panggilan">
                    </div>
                     <div class="form-group">
                        <label for="alumni">Alumni</label>
                        <input type="text" id="alumni" name="alumni" value="Pondok Pesantren Krapyak Yogyakarta" disabled>
                    </div>
                    <div class="form-group">
                        <label for="angkatan">Angkatan (Tahun Masuk)</label>
                        <select id="angkatan" name="angkatan" required>
                            <option value="" disabled selected>Pilih Tahun</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="komplek">Komplek</label>
                        <input type="text" id="komplek" name="komplek" required maxlength="30">
                    </div>
                    <div class="form-group">
                        <label for="domisili">Domisili (Kota/Kabupaten)</label>
                        <input type="text" id="domisili" name="domisili">
                    </div>
                    <div class="form-group form-group-full">
                        <label for="detail_alamat">Alamat Lengkap</label>
                        <textarea id="detail_alamat" name="detail_alamat" rows="3" placeholder="Contoh: Jl. KH Ahmad Dahlan No. 21, RT 04 RW 02..."></textarea>
                    </div>
                     <div class="form-group">
                        <label>Tampilkan Alamat di Publik?</label>
                        <label class="switch">
                            <input type="checkbox" id="alamat_active" name="alamat_active" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </fieldset>
            
            <!-- Kontak & Profesi -->
            <fieldset class="form-section">
                <legend class="form-section-title">2. Kontak & Profesi</legend>
                 <div class="form-grid">
                    <div class="form-group">
                        <label for="no_hp_anggota">No. HP (WhatsApp)</label>
                        <input type="tel" id="no_hp_anggota" name="no_hp_anggota" placeholder="Contoh: 08123456789" required>
                    </div>
                     <div class="form-group">
                        <label>Tampilkan No. HP di Publik?</label>
                        <label class="switch">
                            <input type="checkbox" id="no_hp_active" name="no_hp_active" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label for="profesi">Profesi Utama</label>
                         <input type="text" id="profesi" name="profesi" placeholder="Contoh: Pengusaha, Dokter, Programmer" required>
                    </div>
                     <div class="form-group form-group-full">
                        <label for="detail_profesi">Deskripsi Detail Profesi</label>
                        <textarea id="detail_profesi" name="detail_profesi" rows="3" placeholder="Contoh: Praktik di RSUD Sleman, menangani pasien umum & BPJS sejak 2017"></textarea>
                    </div>
                </div>
            </fieldset>

            <!-- Ide & Kontribusi -->
            <fieldset class="form-section">
                 <legend class="form-section-title">3. Ide & Kontribusi</legend>
                 <div class="form-group ai-group">
                    <label for="pengembangan_profesi">Rencana pengembangan profesi/keahlian</label>
                    <textarea id="pengembangan_profesi" name="pengembangan_profesi" rows="4" placeholder="Contoh: Ingin memperluas layanan ke bidang edukasi kesehatan masyarakat"></textarea>
                    <button type="button" class="ai-btn" data-target="pengembangan_profesi" aria-label="Generate dengan AI">✨</button>
                </div>
                <div class="form-group ai-group">
                    <label for="ide">Ide/gagasan untuk SINEKRA</label>
                    <textarea id="ide" name="ide" rows="4" placeholder="Tulis ide atau kontribusi Anda untuk pengembangan ekonomi santri..."></textarea>
                    <button type="button" class="ai-btn" data-target="ide" aria-label="Generate dengan AI">✨</button>
                </div>
                 <div class="form-group">
                    <label for="lain_lain">Lain-lain</label>
                    <textarea id="lain_lain" name="lain_lain" rows="3" placeholder="Informasi tambahan yang relevan..."></textarea>
                </div>
            </fieldset>

            <!-- Bagian Usaha (Dinamis) -->
            <fieldset class="form-section">
                <legend class="form-section-title">4. Informasi Usaha</legend>
                <div id="business-list-container">
                    <!-- Blok usaha akan ditambahkan di sini oleh JS -->
                </div>
                <button type="button" id="add-business-btn" class="add-btn"><i class="fas fa-plus-circle"></i> Tambah Usaha</button>
            </fieldset>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Kirim Data</button>
            </div>
        </form>
    </main>

    <!-- TEMPLATE UNTUK BLOK USAHA -->
    <template id="business-entry-template">
        <div class="business-entry-card">
            <button type="button" class="remove-btn remove-business-btn" aria-label="Hapus Usaha">&times;</button>
            <div class="form-grid">
                <div class="form-group form-group-full">
                    <label>Nama Usaha</label>
                    <input type="text" name="nama_usaha" required>
                </div>
                <div class="form-group">
                    <label>Kategori Usaha</label>
                    <input type="text" name="kategori_usaha">
                </div>
                <div class="form-group">
                    <label>Jenis Usaha</label>
                    <input type="text" name="jenis_usaha">
                </div>
                <div class="form-group form-group-full">
                    <label>Detail/Deskripsi Usaha</label>
                    <textarea name="detail_usaha" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label>URL Google Maps</label>
                    <input type="url" name="url_gmaps_perusahaan" placeholder="https://maps.app.goo.gl/...">
                </div>
            </div>
            
            <!-- Sub-section untuk Toko Online -->
            <div class="sub-section">
                <h4 class="sub-section-title">Toko Online (Marketplace)</h4>
                <div class="shop-list-container">
                    <!-- Isian toko online akan ditambahkan di sini -->
                </div>
                <button type="button" class="add-btn add-shop-btn"><i class="fas fa-plus"></i> Tambah Toko</button>
            </div>

            <!-- Sub-section untuk Media Sosial -->
            <div class="sub-section">
                <h4 class="sub-section-title">Media Sosial</h4>
                <div class="social-list-container">
                    <!-- Isian media sosial akan ditambahkan di sini -->
                </div>
                <button type="button" class="add-btn add-social-btn"><i class="fas fa-plus"></i> Tambah Sosmed</button>
            </div>
        </div>
    </template>

    <!-- TEMPLATE UNTUK ISIAN TOKO ONLINE/SOSMED -->
    <template id="link-entry-template">
        <div class="link-entry">
            <div class="form-group">
                <label>Platform</label>
                <select name="platform">
                    <option value="">Pilih Platform</option>
                    <optgroup label="Toko Online">
                        <option value="Shopee">Shopee</option>
                        <option value="Tokopedia">Tokopedia</option>
                        <option value="Lazada">Lazada</option>
                        <option value="TikTok Shop">TikTok Shop</option>
                        <option value="Blibli">Blibli</option>
                    </optgroup>
                    <optgroup label="Media Sosial">
                        <option value="Instagram">Instagram</option>
                        <option value="Facebook">Facebook</option>
                        <option value="TikTok">TikTok</option>
                        <option value="Website">Website</option>
                        <option value="YouTube">YouTube</option>
                    </optgroup>
                    <option value="Lainnya">Lainnya</option>
                </select>
            </div>
            <div class="form-group">
                <label>URL</label>
                <input type="url" name="url" placeholder="https://..." required>
            </div>
            <button type="button" class="remove-btn remove-link-btn" aria-label="Hapus">&times;</button>
        </div>
    </template>
    
    <!-- Modal Konfirmasi -->
    <div id="confirmation-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content">
            <h2>Konfirmasi Data</h2>
            <p>Mohon periksa kembali data yang Anda masukkan sebelum mengirim.</p>
            <div id="modal-preview-grid" class="modal-preview-grid">
                <!-- Data preview akan disisipkan di sini -->
            </div>
            <div class="modal-button-group">
                <button type="button" id="modal-edit-btn" class="btn btn-secondary">Edit Kembali</button>
                <button type="button" id="modal-submit-btn" class="btn btn-primary">Ya, Kirim Sekarang</button>
            </div>
        </div>
    </div>
    
    <!-- Modal Status Pengiriman -->
    <div id="status-modal" class="modal-overlay" style="display:none;">
         <div class="modal-content">
             <div id="submission-loading">
                <div class="spinner"></div>
                <p>Mengirim data...</p>
             </div>
             <div id="submission-success" style="display:none;">
                <i class="fas fa-check-circle success-icon"></i>
                <h2>Terima Kasih!</h2>
                <p>Data Anda telah berhasil dikirim.</p>
                <a href="index.html" class="btn btn-primary">Kembali ke Direktori</a>
             </div>
             <div id="submission-error" style="display:none;">
                <i class="fas fa-times-circle error-icon"></i>
                <h2>Gagal Mengirim</h2>
                <p>Terjadi kesalahan. Silakan coba lagi nanti.</p>
                <button type="button" id="error-close-btn" class="btn btn-secondary">Tutup</button>
             </div>
         </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/js/all.min.js" integrity="sha512-u3fPA7V8qQmhBPNT5quvaXVa1mnnLSXUep5PS1qo5NRzHwG19aHmNJnj1Q8hpA/iksyLKGVihMDknh/+EYfGUg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="form.js"></script>
    <script src="main.js"></script>
</body>
</html> 
